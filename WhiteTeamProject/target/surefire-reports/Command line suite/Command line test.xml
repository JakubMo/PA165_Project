<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by org.testng.reporters.JUnitXMLReporter -->
<testsuite hostname="jakub-Satellite-L630" name="Command line test" tests="17" failures="15" timestamp="30 Oct 2015 21:30:52 GMT" time="3.118" errors="0">
  <testcase name="createDrive" time="2.941" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.exception.ConstraintViolationException" message="could not execute statement">
      <![CDATA[org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:129)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3281)
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3183)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3525)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:159)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:463)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:349)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)
	at cz.muni.fi.pa165.project.dao.DriveDaoImpl.insertDrive(DriveDaoImpl.java:106)
	at cz.muni.fi.pa165.project.DriveTest.createDrive(DriveTest.java:69)
Caused by: org.h2.jdbc.JdbcSQLException: Referential integrity constraint violation: "FK_OWWY85BVXT5QJTV6YV86GGXFX: PUBLIC.DRIVE FOREIGN KEY(VEHICLE_VIN) REFERENCES PUBLIC.VEHICLE(VIN) ('REWGF69849SADF')"; SQL statement:
update Drive set employee_id=?, end_date=?, km=?, start_date=?, state=?, vehicle_vin=? where id=? [23506-189]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.constraint.ConstraintReferential.checkRowOwnTable(ConstraintReferential.java:372)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:314)
	at org.h2.table.Table.fireConstraints(Table.java:920)
	at org.h2.table.Table.fireAfterRow(Table.java:938)
	at org.h2.command.dml.Update.update(Update.java:151)
	at org.h2.command.CommandContainer.update(CommandContainer.java:78)
	at org.h2.command.Command.executeUpdate(Command.java:253)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:157)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:143)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:187)
	... 49 more
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- createDrive -->
  <testcase name="deleteDrive" time="0.0" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.create(EmployeeDaoImpl.java:19)
	at cz.muni.fi.pa165.project.DriveTest.deleteDrive(DriveTest.java:295)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- deleteDrive -->
  <testcase name="getAllDrives" time="0.001" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="cz.muni.fi.pa165.project.util.HibernateErrorException" message="org.hibernate.TransactionException: nested transactions not supported">
      <![CDATA[cz.muni.fi.pa165.project.util.HibernateErrorException: org.hibernate.TransactionException: nested transactions not supported
	at cz.muni.fi.pa165.project.dao.DriveDaoImpl.getAllDrives(DriveDaoImpl.java:33)
	at cz.muni.fi.pa165.project.DriveTest.getAllDrives(DriveTest.java:83)
Caused by: org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.DriveDaoImpl.getAllDrives(DriveDaoImpl.java:25)
	... 35 more
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- getAllDrives -->
  <testcase name="getDriveByEmployee" time="0.0" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.create(EmployeeDaoImpl.java:19)
	at cz.muni.fi.pa165.project.DriveTest.getDriveByEmployee(DriveTest.java:149)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- getDriveByEmployee -->
  <testcase name="getDriveById" time="0.0" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.create(EmployeeDaoImpl.java:19)
	at cz.muni.fi.pa165.project.DriveTest.getDriveById(DriveTest.java:120)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- getDriveById -->
  <testcase name="getDriveByVehicle" time="0.001" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.create(EmployeeDaoImpl.java:19)
	at cz.muni.fi.pa165.project.DriveTest.getDriveByVehicle(DriveTest.java:184)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- getDriveByVehicle -->
  <testcase name="updateDrive" time="0.001" classname="cz.muni.fi.pa165.project.DriveTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.create(EmployeeDaoImpl.java:19)
	at cz.muni.fi.pa165.project.DriveTest.updateDrive(DriveTest.java:216)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- updateDrive -->
  <testcase name="employeeCreateTest" time="0.001" classname="cz.muni.fi.pa165.project.EmployeeTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.EmployeeTest.employeeCreateTest(EmployeeTest.java:53)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- employeeCreateTest -->
  <testcase name="ServiceCheckInsertTest" time="0.001" classname="cz.muni.fi.pa165.project.ServiceCheckTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.VehicleDaoImpl.insert(VehicleDaoImpl.java:74)
	at cz.muni.fi.pa165.project.ServiceCheckTest.ServiceCheckInsertTest(ServiceCheckTest.java:59)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- ServiceCheckInsertTest -->
  <testcase name="employeeFindTest" time="0.0" classname="cz.muni.fi.pa165.project.EmployeeTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.findAll(EmployeeDaoImpl.java:30)
	at cz.muni.fi.pa165.project.EmployeeTest.employeeFindTest(EmployeeTest.java:80)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- employeeFindTest -->
  <testcase name="findAllVehiclesAndServiceChecks" time="0.0" classname="cz.muni.fi.pa165.project.ServiceCheckTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.VehicleDaoImpl.findAll(VehicleDaoImpl.java:18)
	at cz.muni.fi.pa165.project.ServiceCheckTest.findAllVehiclesAndServiceChecks(ServiceCheckTest.java:108)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- findAllVehiclesAndServiceChecks -->
  <testcase name="employeeUpdateTest" time="0.0" classname="cz.muni.fi.pa165.project.EmployeeTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.dao.EmployeeDaoImpl.update(EmployeeDaoImpl.java:54)
	at cz.muni.fi.pa165.project.EmployeeTest.employeeUpdateTest(EmployeeTest.java:101)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- employeeUpdateTest -->
  <testcase name="ServiceCheckUpdateTest" time="0.0" classname="cz.muni.fi.pa165.project.ServiceCheckTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.ServiceCheckTest.ServiceCheckUpdateTest(ServiceCheckTest.java:141)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- ServiceCheckUpdateTest -->
  <testcase name="employeeDeleteTest" time="0.001" classname="cz.muni.fi.pa165.project.EmployeeTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.EmployeeTest.employeeDeleteTest(EmployeeTest.java:121)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- employeeDeleteTest -->
  <testcase name="ServiceCheckDeleteTest" time="0.0" classname="cz.muni.fi.pa165.project.ServiceCheckTest">
    <failure type="org.hibernate.TransactionException" message="nested transactions not supported">
      <![CDATA[org.hibernate.TransactionException: nested transactions not supported
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:154)
	at cz.muni.fi.pa165.project.ServiceCheckTest.ServiceCheckDeleteTest(ServiceCheckTest.java:169)
... Removed 34 stack frames]]>
    </failure>
  </testcase> <!-- ServiceCheckDeleteTest -->
  <testcase name="testDoubleDeletionException" time="0.002" classname="cz.muni.fi.pa165.project.ServiceCheckTest"/>
  <testcase name="testUpdateAfterDelete" time="0.001" classname="cz.muni.fi.pa165.project.ServiceCheckTest"/>
</testsuite> <!-- Command line test -->
